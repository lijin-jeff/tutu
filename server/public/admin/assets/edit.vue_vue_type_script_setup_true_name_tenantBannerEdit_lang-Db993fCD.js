import{O as j,P as A,C as H,B as M,G as Z,H as z,g as J,D as K}from"./element-plus-BOMqSMu4.js";import{_ as Q}from"./picker-O3j_gyx7.js";import{r as f}from"./index-D26yx8rh.js";import{P as W}from"./index-Bn47pySz.js";import{d as U,s as B,r as X,b as Y,Z as E,o as i,c,V as o,M as n,u as a,a as m,U as _,aa as b,L as g,S as $,T as ee}from"./@vue-DWQ9eUI2.js";function fe(r){return f.get({url:"/config.tenant_banner/lists",params:r})}function le(r){return f.post({url:"/config.tenant_banner/add",params:r})}function te(r){return f.post({url:"/config.tenant_banner/edit",params:r})}function _e(r){return f.post({url:"/config.tenant_banner/delete",params:r})}function ae(r){return f.get({url:"/config.tenant_banner/detail",params:r})}const oe={class:"edit-popup"},ne={style:{width:"100%"}},re={style:{width:"100%"}},se={style:{width:"100%"}},ue=U({name:"tenantBannerEdit"}),be=U({...ue,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(r,{expose:R,emit:T}){const D=T,k=B(),V=B(),v=X("add"),q=Y(()=>v.value=="edit"?"编辑轮播图管理":"新增轮播图管理"),t=E({id:"",title:"",is_show:"",sort:"",position:"",client:"",image:"",image_type:"",url:"",icon:""}),C=E({is_show:[{required:!0,message:"请选择显示状态",trigger:["blur"]}],sort:[{required:!0,message:"请输入显示权重",trigger:["blur"]}],position:[{required:!0,message:"请选择显示位置",trigger:["blur"]}],client:[{required:!0,message:"请选择显示平台",trigger:["blur"]}],image_type:[{required:!0,message:"请选择图片类型",trigger:["blur"]}]}),x=async s=>{for(const e in t)s[e]!=null&&s[e]!=null&&(t[e]=s[e])},h=async s=>{const e=await ae({id:s.id});x(e)},F=async()=>{var e,p;await((e=k.value)==null?void 0:e.validate());const s={...t};v.value=="edit"?await te(s):await le(s),(p=V.value)==null||p.close(),D("success")},I=(s="add")=>{var e;v.value=s,(e=V.value)==null||e.open()},N=()=>{D("close")};return R({open:I,setFormData:x,getDetail:h}),(s,e)=>{const p=j,y=A,u=H,w=M,S=Z,L=z,O=J,P=Q,G=K;return i(),c("div",oe,[o(W,{ref_key:"popupRef",ref:V,title:a(q),async:!0,width:"550px",onConfirm:F,onClose:N},{default:n(()=>[o(G,{ref_key:"formRef",ref:k,model:a(t),"label-width":"90px",rules:a(C)},{default:n(()=>[o(u,{label:"图片类型",prop:"image_type"},{default:n(()=>[m("div",ne,[o(y,{class:"flex-1",modelValue:a(t).image_type,"onUpdate:modelValue":e[0]||(e[0]=l=>a(t).image_type=l),clearable:"",placeholder:"请选择图片类型"},{default:n(()=>[(i(!0),c(_,null,b(r.dictData.image_type,(l,d)=>(i(),g(p,{key:d,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e[9]||(e[9]=m("div",{class:"form-tips"}," 菜单配置表示用户端的功能菜单，轮播图配置表示用户端轮播图。 ",-1))])]),_:1}),o(u,{label:"显示位置",prop:"position"},{default:n(()=>[m("div",re,[o(y,{class:"flex-1",modelValue:a(t).position,"onUpdate:modelValue":e[1]||(e[1]=l=>a(t).position=l),clearable:"",placeholder:"请选择显示位置"},{default:n(()=>[(i(!0),c(_,null,b(r.dictData.image_position,(l,d)=>(i(),g(p,{key:d,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e[10]||(e[10]=m("div",{class:"form-tips"}," 图片类型是菜单则选择带有菜单字样的位置，图片类型是轮播图则选择轮播图位置。 ",-1))])]),_:1}),o(u,{label:"图片标题",prop:"title"},{default:n(()=>[o(w,{modelValue:a(t).title,"onUpdate:modelValue":e[2]||(e[2]=l=>a(t).title=l),clearable:"",placeholder:"请输入图片标题"},null,8,["modelValue"])]),_:1}),o(u,{label:"显示状态",prop:"is_show"},{default:n(()=>[o(L,{modelValue:a(t).is_show,"onUpdate:modelValue":e[3]||(e[3]=l=>a(t).is_show=l),placeholder:"请选择显示状态"},{default:n(()=>[(i(!0),c(_,null,b(r.dictData.show_status,(l,d)=>(i(),g(S,{key:d,label:parseInt(l.value)},{default:n(()=>[$(ee(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"显示权重",prop:"sort"},{default:n(()=>[o(O,{min:0,max:1e5,style:{width:"100%"},modelValue:a(t).sort,"onUpdate:modelValue":e[4]||(e[4]=l=>a(t).sort=l),clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1}),o(u,{label:"显示平台",prop:"client"},{default:n(()=>[o(y,{class:"flex-1",modelValue:a(t).client,"onUpdate:modelValue":e[5]||(e[5]=l=>a(t).client=l),clearable:"",placeholder:"请选择显示平台"},{default:n(()=>[(i(!0),c(_,null,b(r.dictData.client,(l,d)=>(i(),g(p,{key:d,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"封面图片",prop:"image"},{default:n(()=>[o(P,{modelValue:a(t).image,"onUpdate:modelValue":e[6]||(e[6]=l=>a(t).image=l)},null,8,["modelValue"])]),_:1}),o(u,{label:"菜单图标",prop:"icon"},{default:n(()=>[m("div",se,[o(w,{modelValue:a(t).icon,"onUpdate:modelValue":e[7]||(e[7]=l=>a(t).icon=l),clearable:"",placeholder:"请输入菜单图标"},null,8,["modelValue"]),e[11]||(e[11]=m("div",{class:"form-tips"},"适用于用户端菜单，使用的是字体库类型的菜单。",-1))])]),_:1}),o(u,{label:"跳转地址",prop:"url"},{default:n(()=>[o(w,{modelValue:a(t).url,"onUpdate:modelValue":e[8]||(e[8]=l=>a(t).url=l),clearable:"",placeholder:"请输入跳转地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{be as _,fe as a,_e as b};
