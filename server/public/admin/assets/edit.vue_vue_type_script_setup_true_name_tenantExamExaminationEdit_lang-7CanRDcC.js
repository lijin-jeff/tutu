import{B as A,C as H,G as O,H as Z,Y as $,a2 as z,g as J,D as K}from"./element-plus-BOMqSMu4.js";import{_ as Q}from"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import{_ as W}from"./picker-O3j_gyx7.js";import{r as d}from"./index-D26yx8rh.js";import{P as X}from"./index-Bn47pySz.js";import{d as T,s as U,r as ee,b as te,Z as q,o as i,c as p,V as o,M as r,u as l,U as b,aa as x,L as _,S as V,T as y,R as ae}from"./@vue-DWQ9eUI2.js";function fe(n){return d.get({url:"/exam.tenant_exam_examination/lists",params:n})}function le(n){return d.post({url:"/exam.tenant_exam_examination/add",params:n})}function oe(n){return d.post({url:"/exam.tenant_exam_examination/edit",params:n})}function ce(n){return d.post({url:"/exam.tenant_exam_examination/delete",params:n})}function re(n){return d.get({url:"/exam.tenant_exam_examination/detail",params:n})}function ge(n){return d.post({url:"/exam.tenant_exam_examination/savePaper",params:n})}const ne={class:"edit-popup"},ue=T({name:"tenantExamExaminationEdit"}),be=T({...ue,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(n,{expose:I,emit:M}){const w=M,h=U(),v=U(),E=ee("add"),R=te(()=>E.value=="edit"?"编辑考试管理":"新增考试管理"),a=q({id:"",title:"",score:"",content:"",sort:"",is_show:1,admin_id:"",tenant_id:"",start_time:"",end_time:"",privilege:"",exam_time:"",exam_submit_type:1,submit_count_value:0,login_style:"",image:""}),C=q({title:[{required:!0,message:"请输入考试名称",trigger:["blur"]}],score:[{required:!0,message:"请输入及格分数",trigger:["blur"]}],content:[{required:!0,message:"请输入考试说明",trigger:["blur"]}],sort:[{required:!0,message:"请输入显示权重",trigger:["blur"]}],is_show:[{required:!0,message:"请选择发布状态",trigger:["blur"]}],start_time:[{required:!0,message:"请输入开始时间",trigger:["blur"]}],end_time:[{required:!0,message:"请输入结束时间",trigger:["blur"]}],privilege:[{required:!0,message:"请选择考试权限",trigger:["blur"]}],exam_time:[{required:!0,message:"请输入考试时间",trigger:["blur"]}],exam_submit_type:[{required:!0,message:"请输入答题类型",trigger:["blur"]}],image:[{required:!0,message:"请选择考试突破",trigger:["blur"]}],login_style:[{required:!0,message:"请选择登录方式",trigger:["blur"]}]}),Y=async m=>{for(const e in a)m[e]!=null&&m[e]!=null&&(a[e]=m[e])},P=async m=>{const e=await re({id:m.id});Y(e)},B=async()=>{var e,f;await((e=h.value)==null?void 0:e.validate());const m={...a};E.value=="edit"?await oe(m):await le(m),(f=v.value)==null||f.close(),w("success")},F=(m="add")=>{var e;E.value=m,(e=v.value)==null||e.open()},N=()=>{w("close")};return I({open:F,setFormData:Y,getDetail:P}),(m,e)=>{const f=A,u=H,S=W,c=O,g=Z,k=$,L=z,D=J,G=Q,j=K;return i(),p("div",ne,[o(X,{ref_key:"popupRef",ref:v,title:l(R),async:!0,width:"800px",onConfirm:B,onClose:N},{default:r(()=>[o(j,{ref_key:"formRef",ref:h,model:l(a),"label-width":"90px",rules:l(C)},{default:r(()=>[o(u,{label:"考试名称",prop:"title"},{default:r(()=>[o(f,{modelValue:l(a).title,"onUpdate:modelValue":e[0]||(e[0]=t=>l(a).title=t),clearable:"",placeholder:"请输入考试名称"},null,8,["modelValue"])]),_:1}),o(u,{label:"考试封面",prop:"image"},{default:r(()=>[o(S,{modelValue:l(a).image,"onUpdate:modelValue":e[1]||(e[1]=t=>l(a).image=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"发布状态",prop:"is_show"},{default:r(()=>[o(g,{modelValue:l(a).is_show,"onUpdate:modelValue":e[2]||(e[2]=t=>l(a).is_show=t),placeholder:"请选择发布状态"},{default:r(()=>[(i(!0),p(b,null,x(n.dictData.show_status,(t,s)=>(i(),_(c,{key:s,value:parseInt(t.value),label:parseInt(t.value)},{default:r(()=>[V(y(t.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"开始时间",prop:"start_time"},{default:r(()=>[o(k,{modelValue:l(a).start_time,"onUpdate:modelValue":e[3]||(e[3]=t=>l(a).start_time=t),type:"datetime",style:{width:"100%"},placeholder:"请选择考试开始时间",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),o(u,{label:"结束时间",prop:"end_time"},{default:r(()=>[o(k,{modelValue:l(a).end_time,"onUpdate:modelValue":e[4]||(e[4]=t=>l(a).end_time=t),type:"datetime",style:{width:"100%"},placeholder:"请选择考试结束时间",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),o(u,{label:"考试时间",prop:"exam_time"},{default:r(()=>[o(L,{modelValue:l(a).exam_time,"onUpdate:modelValue":e[5]||(e[5]=t=>l(a).exam_time=t),style:{width:"100%"},typ:"time",format:"hh:mm:ss","value-format":"hh:mm:ss",placeholder:"请选择考试时间"},null,8,["modelValue"])]),_:1}),o(u,{label:"及格分数",prop:"score"},{default:r(()=>[o(D,{style:{width:"100%"},min:0,step:.01,modelValue:l(a).score,"onUpdate:modelValue":e[6]||(e[6]=t=>l(a).score=t),clearable:"",placeholder:"请输入及格分数"},null,8,["modelValue"])]),_:1}),o(u,{label:"显示权重",prop:"sort"},{default:r(()=>[o(D,{style:{width:"100%"},min:0,step:1,modelValue:l(a).sort,"onUpdate:modelValue":e[7]||(e[7]=t=>l(a).sort=t),clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1}),o(u,{label:"考试权限",prop:"privilege"},{default:r(()=>[o(g,{modelValue:l(a).privilege,"onUpdate:modelValue":e[8]||(e[8]=t=>l(a).privilege=t),placeholder:"请选择考试权限"},{default:r(()=>[(i(!0),p(b,null,x(n.dictData.exam_privilege,(t,s)=>(i(),_(c,{key:s,label:parseInt(t.value)},{default:r(()=>[V(y(t.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"提交限制",prop:"exam_submit_type"},{default:r(()=>[o(g,{modelValue:l(a).exam_submit_type,"onUpdate:modelValue":e[9]||(e[9]=t=>l(a).exam_submit_type=t),placeholder:"请选择提交限制次数"},{default:r(()=>[(i(!0),p(b,null,x(n.dictData.exam_submit_type,(t,s)=>(i(),_(c,{key:s,value:parseInt(t.value),label:parseInt(t.value)},{default:r(()=>[V(y(t.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(a).exam_submit_type!==1?(i(),_(u,{key:0,label:"提交次数",prop:"submit_count_value"},{default:r(()=>[o(D,{style:{width:"100%"},modelValue:l(a).submit_count_value,"onUpdate:modelValue":e[10]||(e[10]=t=>l(a).submit_count_value=t),clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1})):ae("",!0),o(u,{label:"登录方式",prop:"login_style"},{default:r(()=>[o(g,{modelValue:l(a).login_style,"onUpdate:modelValue":e[11]||(e[11]=t=>l(a).login_style=t),placeholder:"请选择登录方式"},{default:r(()=>[(i(!0),p(b,null,x(n.dictData.exam_login_style,(t,s)=>(i(),_(c,{key:s,label:parseInt(t.value)},{default:r(()=>[V(y(t.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"考试说明",prop:"content"},{default:r(()=>[o(G,{class:"flex-1",modelValue:l(a).content,"onUpdate:modelValue":e[12]||(e[12]=t=>l(a).content=t),height:500},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{be as _,ge as a,fe as b,ce as c};
