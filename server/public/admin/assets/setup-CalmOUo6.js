import{_ as B}from"./index-Dw1fLUsk.js";import{C,B as E,D as x,I as D,h as S}from"./element-plus-BOMqSMu4.js";import{_ as R}from"./picker-O3j_gyx7.js";import{a as U,b as q}from"./user-BVuuIg7d.js";import{d as _,Z as u,s as I,aq as N,o as d,c as j,V as r,M as a,a as i,u as m,O as F,L,S as M}from"./@vue-DWQ9eUI2.js";import"./index-D26yx8rh.js";import"./nprogress-Cgf5DU8x.js";import"./balanced-match-mNcR6oh4.js";import"./vue-router-kfoHscKg.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./@element-plus-t6vcCXyq.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-CMfar2R3.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./index-Bn47pySz.js";import"./index-B5Tv3py5.js";import"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import"./index-CUctT6tT.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./usePaging-CAPwGkdi.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";const O={class:"user-setup"},T=_({name:"userSetup"}),It=_({...T,setup(Z){const e=u({default_avatar:"",default_nickname:""}),s=I(),n=async()=>{try{const o=await U();for(const t in e)e[t]=o[t]}catch(o){console.log("获取=>",o)}},f=u({default_avatar:[{required:!0,message:"请选择用户默认头像",trigger:["blur"]}],default_nickname:[{required:!0,message:"请设置用户默认昵称",trigger:["blur"]}]}),c=async()=>{var o;try{await((o=s.value)==null?void 0:o.validate()),await q(e),n()}catch(t){console.log("保存=>",t)}};return n(),(o,t)=>{const v=R,p=C,g=E,k=x,b=D,V=S,w=B,y=N("perms");return d(),j("div",O,[r(b,{shadow:"never",class:"!border-none"},{default:a(()=>[t[4]||(t[4]=i("div",{class:"font-medium mb-7"},"基本设置",-1)),r(k,{ref_key:"formRef",ref:s,model:m(e),"label-width":"120px",rules:m(f)},{default:a(()=>[r(p,{label:"用户默认头像",prop:"default_avatar"},{default:a(()=>[i("div",null,[r(v,{modelValue:m(e).default_avatar,"onUpdate:modelValue":t[0]||(t[0]=l=>m(e).default_avatar=l),limit:1},null,8,["modelValue"]),t[2]||(t[2]=i("div",{class:"form-tips"}," 用户注册时给的默认头像，建议尺寸：400*400像素，支持jpg，jpeg，png格式。 ",-1))])]),_:1}),r(p,{label:"用户默认昵称",prop:"default_nickname"},{default:a(()=>[i("div",null,[r(g,{modelValue:m(e).default_nickname,"onUpdate:modelValue":t[1]||(t[1]=l=>m(e).default_nickname=l),placeholder:"请输入用户默认名称"},null,8,["modelValue"]),t[3]||(t[3]=i("div",{class:"form-tips"},"用户注册时给的默认昵称。",-1))])]),_:1})]),_:1},8,["model","rules"])]),_:1}),F((d(),L(w,null,{default:a(()=>[r(V,{type:"primary",onClick:c},{default:a(()=>t[5]||(t[5]=[M("保存")])),_:1})]),_:1})),[[y,["setting.user.user/setConfig"]]])])}}});export{It as default};
