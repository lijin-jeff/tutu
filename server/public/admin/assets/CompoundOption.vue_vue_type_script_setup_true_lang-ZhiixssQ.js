import{C as j,g as A,G,H as K,h as L,a5 as P,F as Q,D as R}from"./element-plus-BOMqSMu4.js";import{_ as S}from"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import{_ as T}from"./index.vue_vue_type_style_index_0_lang-BHe48Qr2.js";import{a as z}from"./useDictOptions-Dk9jd2iD.js";import{E as k}from"./index-CJYi2pTy.js";import{d as H,Z as I,o as c,c as h,V as l,M as s,u as o,a,U as y,aa as v,L as M,S as m,T as Z}from"./@vue-DWQ9eUI2.js";const q={style:{width:"100%"}},J={style:{width:"100%"}},W={class:"",style:{width:"100%"}},X={class:"padding-right20 display-flex-start-center"},Y={class:"display-flex-start-center"},ee={class:"margin-top10"},te={class:"margin-left50"},le={class:"",style:{width:"100%"}},oe={class:"padding-right20 display-flex-start-center"},se={class:"padding-right"},ne={class:"display-flex-start-center"},ae={class:"margin-top10"},ie={class:"display-flex"},he=H({__name:"CompoundOption",setup(de){const t=I({uid:"",chapterUid:"",libraryUid:"",title:"",score:1,analysis:"",is_show:1,sort:0,selectAnswer:"",answer:[],option:[{check:"",title:"请输入子试题题干",children:[{check:k.A,title:"请输入试题选项"}]}]}),{dictData:w}=z("show_status"),C=()=>{t.option.push({check:"",title:"请输入子试题题干",children:[{check:k.A,title:"请输入试题选项"}]})},U=r=>{t.option.splice(r,1)},E=r=>{const e=Object.keys(k).filter(i=>isNaN(Number(i))),d=t.option[r].children.length;e[d]!==void 0&&(console.log(e[d]),t.option[r].children.push({check:e[d],title:"请输入选项值"}))},N=(r,e)=>{t.option[r].children.splice(e,1),x()},x=()=>{const r=Object.keys(k).filter(e=>isNaN(Number(e)));for(let e=0;e<t.option.length;e++){const d=[];for(let i=0;i<t.option[e].children.length;i++)d.push({title:t.option[e].children[i].title,check:r[i]});t.option[e].children=d}};return(r,e)=>{const d=T,i=j,b=A,D=G,O=K,B=S,_=L,g=P,$=Q,F=R;return c(),h("div",null,[l(F,{"label-width":"70px"},{default:s(()=>[l(i,{label:"试题材料",prop:"title"},{default:s(()=>[l(d,{modelValue:o(t).title,"onUpdate:modelValue":e[0]||(e[0]=n=>o(t).title=n),height:150,width:"100%"},null,8,["modelValue"])]),_:1}),l(i,{label:"显示权重",prop:"sort"},{default:s(()=>[a("div",q,[l(b,{min:0,step:1,modelValue:o(t).sort,"onUpdate:modelValue":e[1]||(e[1]=n=>o(t).sort=n),style:{width:"100%"},clearable:"",placeholder:"请输入"},null,8,["modelValue"]),e[7]||(e[7]=a("div",{class:"form-tips"},"默认为0， 只能为大于0的整数。值越大越排前显示。",-1))])]),_:1}),l(i,{label:"试题积分",prop:"score"},{default:s(()=>[a("div",J,[l(b,{min:1,step:.01,style:{width:"100%"},modelValue:o(t).score,"onUpdate:modelValue":e[2]||(e[2]=n=>o(t).score=n),clearable:"",placeholder:"请输入"},null,8,["modelValue"]),e[8]||(e[8]=a("div",{class:"form-tips"},"默认为0， 只能为大于0的整数。值越大越排前显示。",-1))])]),_:1}),l(i,{label:"启用状态",prop:"is_show"},{default:s(()=>[l(O,{modelValue:o(t).is_show,"onUpdate:modelValue":e[3]||(e[3]=n=>o(t).is_show=n),placeholder:"请选择"},{default:s(()=>[(c(!0),h(y,null,v(o(w).show_status,(n,p)=>(c(),M(D,{key:p,value:parseInt(n.value),label:parseInt(n.value)},{default:s(()=>[m(Z(n.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"试题解析",prop:"analysis"},{default:s(()=>[l(B,{modelValue:o(t).analysis,"onUpdate:modelValue":e[4]||(e[4]=n=>o(t).analysis=n),height:150,width:"100%"},null,8,["modelValue"])]),_:1}),l(i,{label:"子项试题"},{default:s(()=>[(c(!0),h(y,null,v(o(t).option,(n,p)=>(c(),h("div",{key:n.check,class:"with100 margin-bottom20"},[a("div",null,[l(g,{modelValue:o(t).answer,"onUpdate:modelValue":e[5]||(e[5]=u=>o(t).answer=u)},{default:s(()=>[a("div",W,[a("div",X,[a("div",Y,[l(_,{type:"success",icon:"Plus",link:"",onClick:C},{default:s(()=>e[9]||(e[9]=[m("添加子试题 ")])),_:1}),l(_,{type:"danger",icon:"Delete",link:"",onClick:u=>U(p)},{default:s(()=>e[10]||(e[10]=[m("删除试题 ")])),_:2},1032,["onClick"])])])])]),_:2},1032,["modelValue"])]),a("div",ee,[l(d,{modelValue:o(t).option[p].title,"onUpdate:modelValue":u=>o(t).option[p].title=u,height:150,width:"100%"},null,8,["modelValue","onUpdate:modelValue"]),a("div",te,[(c(!0),h(y,null,v(n.children,(u,V)=>(c(),h("div",{key:u.check,class:"with100"},[l(g,{modelValue:o(t).answer,"onUpdate:modelValue":e[6]||(e[6]=f=>o(t).answer=f)},{default:s(()=>[a("div",le,[a("div",oe,[a("div",se,[l($,{value:u.check,label:"选项"+u.check,size:"large",name:"option_check"},null,8,["value","label"])]),a("div",ne,[l(_,{type:"success",icon:"Plus",link:"",onClick:f=>E(p)},{default:s(()=>e[11]||(e[11]=[m("添加选项 ")])),_:2},1032,["onClick"]),l(_,{type:"danger",icon:"Delete",link:"",onClick:f=>N(p,V)},{default:s(()=>e[12]||(e[12]=[m("删除选项 ")])),_:2},1032,["onClick"])])])])]),_:2},1032,["modelValue"]),a("div",ae,[l(d,{modelValue:o(t).option[p].children[V].title,"onUpdate:modelValue":f=>o(t).option[p].children[V].title=f,height:150,width:"100%"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])])]))),128))]),_:1}),a("div",ie,[l(_,{type:"primary"},{default:s(()=>e[13]||(e[13]=[m("保存试题")])),_:1}),l(_,{type:"warning"},{default:s(()=>e[14]||(e[14]=[m("重置数据")])),_:1})])]),_:1})])}}});export{he as _};
