import{N as le,I as oe,B as ae,C as ne,O as ie,P as re,a1 as se,a6 as pe,h as me,D as ue,K as de,L as _e,Q as ce,M as fe}from"./element-plus-BOMqSMu4.js";import{_ as ve}from"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import{_ as be}from"./index.vue_vue_type_script_setup_true_lang-uC_cZYzY.js";import{f as ye,b as we}from"./index-D26yx8rh.js";import{a as he,u as xe}from"./vue-router-kfoHscKg.js";import{g as ge}from"./tenant_exam_chapter-BMC_APIL.js";import{f as ke,g as Ce}from"./tenant_exam_question-B2Ksr1j0.js";import{a as Ve}from"./useDictOptions-Dk9jd2iD.js";import{u as Ee}from"./usePaging-CAPwGkdi.js";import{_ as $e}from"./CheckBoxOption.vue_vue_type_script_setup_true_lang-BRQaykKf.js";import qe from"./ClozeOption-CmXb6CwI.js";import{_ as De}from"./CompoundOption.vue_vue_type_script_setup_true_lang-ZhiixssQ.js";import{_ as Le}from"./JudeOption.vue_vue_type_script_setup_true_lang-DKJMm4Yb.js";import{_ as Ue}from"./QuestionOption.vue_vue_type_script_setup_true_lang-_UQSAsK_.js";import{_ as Se}from"./RadioOption.vue_vue_type_script_setup_true_lang-C4Y44pwp.js";import{_ as Te}from"./WriteOption.vue_vue_type_script_setup_true_lang-CfQyN599.js";import{d as F,r as w,Z as O,aq as Be,o as n,c as C,V as t,M as a,u as e,U as V,aa as T,L as i,S as v,O as h,a as Q,i as R,R as Pe}from"./@vue-DWQ9eUI2.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import"./@wangeditor-CpBL_vJJ.js";import"./picker-O3j_gyx7.js";import"./index-Bn47pySz.js";import"./index-B5Tv3py5.js";import"./index-CUctT6tT.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";import"./index.vue_vue_type_style_index_0_lang-BHe48Qr2.js";import"./index-CJYi2pTy.js";const Ne={class:"mt-4"},Oe={class:"flex mt-4 justify-end"},Qe=F({name:"tenantExamQuestionLists"}),At=F({...Qe,setup(Re){const I=he(),E=xe(),b=w(!1),m=w(0),$=w(E.query.library_uid),x=w(0),r=O({title:"",exam_type:"",is_show:"",level:"",chapter_uid:"",tenant_exam_library_uid:E.query.library_uid}),B=O([]),q=w([]),j=s=>{q.value=s.map(({id:o})=>o)},{dictData:d}=Ve("exam_level,show_status,level"),{pager:y,getLists:g,resetParams:M,resetPage:z}=Ee({fetchFun:ke,params:r}),A=()=>{I.push({path:"question/edit",query:{library_uid:E.query.library_uid}})},H=s=>{b.value=!0,m.value=s.exam_type,x.value=s.id},D=()=>{b.value=!1,g()},P=async s=>{await ye.confirm("确定要删除？"),await Ce({id:s}),g()};return(async()=>{ge({tenant_exam_library_uid:r.tenant_exam_library_uid}).then(s=>{Object.assign(B,s)})})(),g(),(s,o)=>{const K=le,L=oe,Z=ae,_=ne,c=ie,U=re,G=se,N=pe,f=me,J=ue,W=we,p=de,S=be,X=_e,Y=ve,ee=ce,k=Be("perms"),te=fe;return n(),C(V,null,[t(L,{class:"!border-none margin-bottom20",shadow:"never"},{default:a(()=>[t(K,{content:"试题列表",onBack:o[0]||(o[0]=l=>s.$router.back())})]),_:1}),t(L,{class:"!border-none mb-4",shadow:"never"},{default:a(()=>[t(J,{class:"mb-[-16px]",model:e(r),inline:""},{default:a(()=>[t(N,null,{default:a(()=>[t(_,{label:"试题题干",prop:"title"},{default:a(()=>[t(Z,{class:"w-[140px]",modelValue:e(r).title,"onUpdate:modelValue":o[1]||(o[1]=l=>e(r).title=l),clearable:"",placeholder:"请输入试题题干"},null,8,["modelValue"])]),_:1}),t(_,{label:"试题题型",prop:"exam_type"},{default:a(()=>[t(U,{style:{width:"100px"},modelValue:e(r).exam_type,"onUpdate:modelValue":o[2]||(o[2]=l=>e(r).exam_type=l),clearable:"",placeholder:"请选择试题题型"},{default:a(()=>[t(c,{label:"全部",value:""}),(n(!0),C(V,null,T(e(d).exam_level,(l,u)=>(n(),i(c,{key:u,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"试题章节",prop:"chapter_uid"},{default:a(()=>[t(G,{modelValue:e(r).chapter_uid,"onUpdate:modelValue":o[3]||(o[3]=l=>e(r).chapter_uid=l),options:e(B),props:s.props,style:{width:"100px"},onChange:s.handleChange},null,8,["modelValue","options","props","onChange"])]),_:1}),t(_,{label:"显示状态",prop:"is_show"},{default:a(()=>[t(U,{style:{width:"100px"},modelValue:e(r).is_show,"onUpdate:modelValue":o[4]||(o[4]=l=>e(r).is_show=l),clearable:"",placeholder:"请选择显示状态"},{default:a(()=>[t(c,{label:"全部",value:""}),(n(!0),C(V,null,T(e(d).show_status,(l,u)=>(n(),i(c,{key:u,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"试题难度",prop:"level"},{default:a(()=>[t(U,{style:{width:"100px"},modelValue:e(r).level,"onUpdate:modelValue":o[5]||(o[5]=l=>e(r).level=l),clearable:"",placeholder:"请选择试题难度"},{default:a(()=>[t(c,{label:"全部",value:""}),(n(!0),C(V,null,T(e(d).level,(l,u)=>(n(),i(c,{key:u,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(N,null,{default:a(()=>[t(_,null,{default:a(()=>[t(f,{type:"primary",onClick:e(z)},{default:a(()=>o[9]||(o[9]=[v("查询")])),_:1},8,["onClick"]),t(f,{onClick:e(M)},{default:a(()=>o[10]||(o[10]=[v("重置")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),h((n(),i(L,{class:"!border-none",shadow:"never"},{default:a(()=>[h((n(),i(f,{type:"primary",onClick:A},{icon:a(()=>[t(W,{name:"el-icon-Plus"})]),default:a(()=>[o[11]||(o[11]=v(" 新增 "))]),_:1})),[[k,["exam.tenant_exam_question/add"]]]),h((n(),i(f,{disabled:!e(q).length,onClick:o[6]||(o[6]=l=>P(e(q)))},{default:a(()=>o[12]||(o[12]=[v(" 删除 ")])),_:1},8,["disabled"])),[[k,["exam.tenant_exam_question/delete"]]]),Q("div",Ne,[t(X,{data:e(y).lists,onSelectionChange:j},{default:a(()=>[t(p,{type:"selection",width:"55"}),t(p,{label:"试题题型",prop:"exam_type"},{default:a(({row:l})=>[t(S,{options:e(d).exam_level,value:l.exam_type},null,8,["options","value"])]),_:1}),t(p,{label:"试题题干",prop:"title","show-overflow-tooltip":""}),t(p,{label:"试题难度",prop:"level"},{default:a(({row:l})=>[t(S,{options:e(d).level,value:l.level},null,8,["options","value"])]),_:1}),t(p,{label:"试题积分",prop:"score","show-overflow-tooltip":""}),t(p,{label:"试题答案",prop:"answer","show-overflow-tooltip":""}),t(p,{label:"显示权重",prop:"sort","show-overflow-tooltip":""}),t(p,{label:"显示状态",prop:"is_show"},{default:a(({row:l})=>[t(S,{options:e(d).show_status,value:l.is_show},null,8,["options","value"])]),_:1}),t(p,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),t(p,{label:"操作",width:"120",fixed:"right"},{default:a(({row:l})=>[h((n(),i(f,{type:"primary",link:"",onClick:u=>H(l)},{default:a(()=>o[13]||(o[13]=[v(" 编辑 ")])),_:2},1032,["onClick"])),[[k,["exam.tenant_exam_question/edit"]]]),h((n(),i(f,{type:"danger",link:"",onClick:u=>P(l.id)},{default:a(()=>o[14]||(o[14]=[v(" 删除 ")])),_:2},1032,["onClick"])),[[k,["exam.tenant_exam_question/delete"]]])]),_:1})]),_:1},8,["data"])]),Q("div",Oe,[t(Y,{modelValue:e(y),"onUpdate:modelValue":o[7]||(o[7]=l=>R(y)?y.value=l:null),onChange:e(g)},null,8,["modelValue","onChange"])])]),_:1})),[[te,e(y).loading]]),t(ee,{modelValue:e(b),"onUpdate:modelValue":o[8]||(o[8]=l=>R(b)?b.value=l:null),width:"80%",title:"试题编辑"},{default:a(()=>[e(m)===1?(n(),i(Se,{key:0,"library-uid":e($),id:e(x),onSuccess:D},null,8,["library-uid","id"])):e(m)===2?(n(),i($e,{key:1,"library-uid":e($),id:e(x),onSuccess:D},null,8,["library-uid","id"])):e(m)===3?(n(),i(Le,{key:2,"library-uid":e($),id:e(x),onSuccess:D},null,8,["library-uid","id"])):e(m)===4?(n(),i(Te,{key:3})):e(m)===5?(n(),i(Ue,{key:4})):e(m)===6?(n(),i(De,{key:5})):e(m)===7?(n(),i(qe,{key:6})):Pe("",!0)]),_:1},8,["modelValue"])],64)}}});export{At as default};
