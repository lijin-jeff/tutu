import{O as H,P as M,C as Z,B as z,G as J,H as K,D as Q}from"./element-plus-BOMqSMu4.js";import{_ as W}from"./picker-O3j_gyx7.js";import{a as X,b as Y,c as $,d as ee}from"./exam_category-D_x0uykD.js";import{P as le}from"./index-Bn47pySz.js";import{d as B,s as D,r as ae,Z as f,b as oe,o as u,c as i,V as t,M as r,u as o,U as b,aa as V,L as g,S as R,T as U,a as h}from"./@vue-DWQ9eUI2.js";const te={class:"edit-popup"},re=B({name:"examCategoryEdit"}),pe=B({...re,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(v,{expose:P,emit:q}){const y=q,w=D(),p=D(),m=ae("add"),E=f([]),F=oe(()=>m.value=="edit"?"编辑试题分类":"新增试题分类"),a=f({id:"",title:"",is_show:"",sort:"",cover:"",is_recommend:"",icon:"",parent_uid:""}),I=f({title:[{required:!0,message:"请输入分类名称",trigger:["blur"]}],is_show:[{required:!0,message:"请选择启用状态",trigger:["blur"]}],sort:[{required:!0,message:"请输入显示权重",trigger:["blur"]}],is_recommend:[{required:!0,message:"请选择是否推荐",trigger:["blur"]}]}),x=async s=>{for(const e in a)s[e]!=null&&s[e]!=null&&(a[e]=s[e])},L=async s=>{const e=await X({id:s.id});x(e)},O=async()=>{var e,d;await((e=w.value)==null?void 0:e.validate());const s={...a};m.value=="edit"?await Y(s):await $(s),(d=p.value)==null||d.close(),y("success")},S=async()=>{await ee().then(s=>{Object.assign(E,s)})},N=(s="add")=>{var e;m.value=s,(e=p.value)==null||e.open()},T=()=>{y("close")};return S(),P({open:N,setFormData:x,getDetail:L}),(s,e)=>{const d=H,j=M,n=Z,c=z,C=J,k=K,G=W,A=Q;return u(),i("div",te,[t(le,{ref_key:"popupRef",ref:p,title:o(F),async:!0,width:"550px",onConfirm:O,onClose:T},{default:r(()=>[t(A,{ref_key:"formRef",ref:w,model:o(a),"label-width":"90px",rules:o(I)},{default:r(()=>[t(n,{label:"上级分类",prop:"parent_uid"},{default:r(()=>[t(j,{modelValue:o(a).parent_uid,"onUpdate:modelValue":e[0]||(e[0]=l=>o(a).parent_uid=l),clearable:"",placeholder:"请选择上级分类"},{default:r(()=>[(u(!0),i(b,null,V(o(E),l=>(u(),g(d,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"分类名称",prop:"title"},{default:r(()=>[t(c,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=l=>o(a).title=l),clearable:"",placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),t(n,{label:"启用状态",prop:"is_show"},{default:r(()=>[t(k,{modelValue:o(a).is_show,"onUpdate:modelValue":e[2]||(e[2]=l=>o(a).is_show=l),placeholder:"请选择启用状态"},{default:r(()=>[(u(!0),i(b,null,V(v.dictData.show_status,(l,_)=>(u(),g(C,{key:_,label:parseInt(l.value)},{default:r(()=>[R(U(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"显示权重",prop:"sort"},{default:r(()=>[t(c,{modelValue:o(a).sort,"onUpdate:modelValue":e[3]||(e[3]=l=>o(a).sort=l),clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1}),t(n,{label:"分类封面",prop:"cover"},{default:r(()=>[t(G,{modelValue:o(a).cover,"onUpdate:modelValue":e[4]||(e[4]=l=>o(a).cover=l)},null,8,["modelValue"])]),_:1}),t(n,{label:"是否推荐",prop:"is_recommend"},{default:r(()=>[t(k,{modelValue:o(a).is_recommend,"onUpdate:modelValue":e[5]||(e[5]=l=>o(a).is_recommend=l),placeholder:"请选择推荐状态"},{default:r(()=>[(u(!0),i(b,null,V(v.dictData.is_recommend,(l,_)=>(u(),g(C,{key:_,label:parseInt(l.value)},{default:r(()=>[R(U(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"分类icon",prop:"icon"},{default:r(()=>[h("div",null,[t(c,{modelValue:o(a).icon,"onUpdate:modelValue":e[6]||(e[6]=l=>o(a).icon=l),clearable:"",placeholder:""},null,8,["modelValue"]),e[7]||(e[7]=h("div",{class:"form-tips"},"适用于用户端自定义图标的情况下，填写icon的名称，前端直接根据icon名称渲染图标",-1))])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{pe as _};
