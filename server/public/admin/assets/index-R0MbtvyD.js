import{_ as P}from"./index-Dw1fLUsk.js";import{I as O,h as C}from"./element-plus-BOMqSMu4.js";import{a as E,s as I}from"./decoration-C3AbOJsb.js";import{n as h,d as B}from"./index-D26yx8rh.js";import{_ as J}from"./attr-setting.vue_vue_type_script_setup_true_lang-ofFT64EB.js";import U from"./menu-skQKbNyN.js";import k from"./preview-9LUjRvu2.js";import{e as R}from"./index-FeJfBA45.js";import{d as w,Z as W,r as v,b as l,w as j,aq as q,o as _,c as H,a as L,V as m,M as c,u as i,i as D,O as Z,L as $,S as z}from"./@vue-DWQ9eUI2.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-kfoHscKg.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./attr-BTz0Ifqx.js";import"./index-CUctT6tT.js";import"./picker-BLj1bqJe.js";import"./index-Bn47pySz.js";import"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import"./article-BUEnfUjk.js";import"./usePaging-CAPwGkdi.js";import"./picker-O3j_gyx7.js";import"./index-B5Tv3py5.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";import"./content.vue_vue_type_script_setup_true_lang-CRqCA7Np.js";import"./decoration-img-CAZ76Hq1.js";import"./attr.vue_vue_type_script_setup_true_lang-Ggyo61nz.js";import"./content-COARnqOB.js";import"./attr.vue_vue_type_script_setup_true_lang-CvYpsWXf.js";import"./content.vue_vue_type_script_setup_true_lang-Bl4cO7ZF.js";import"./attr.vue_vue_type_script_setup_true_lang-cie6c--6.js";import"./add-nav.vue_vue_type_script_setup_true_lang-BHIs7j3X.js";import"./content-4BETD2JN.js";import"./attr.vue_vue_type_script_setup_true_lang-Bobf0XjJ.js";import"./content.vue_vue_type_script_setup_true_lang-BuYzMLcX.js";import"./attr.vue_vue_type_script_setup_true_lang-Dy6ICkcs.js";import"./content-Cr_3kP9b.js";import"./attr.vue_vue_type_script_setup_true_lang-Dr-Nnghc.js";import"./index.vue_vue_type_script_setup_true_lang-BzyxZ6Tv.js";import"./content-BV4tOdrt.js";import"./content.vue_vue_type_script_setup_true_lang-BWk8N6pP.js";import"./attr.vue_vue_type_script_setup_true_lang-NZIWb9aS.js";import"./content-8DeUiIFu.js";import"./attr.vue_vue_type_script_setup_true_lang-C6cTuFDW.js";import"./content.vue_vue_type_script_setup_true_lang-cFjwlbf4.js";import"./attr.vue_vue_type_script_setup_true_lang-BrKOZHug.js";import"./content-CcXEjBIW.js";const A={class:"decoration-pages min-w-[1100px]"},F={class:"flex flex-1 h-full justify-between"},G=w({name:"decorationPages"}),K=w({...G,setup(Q){let u;(t=>{t.HOME="1",t.USER="2",t.SERVICE="3"})(u||(u={}));const x=t=>{o[a.value].pageData=[...t]},p=t=>t.map(e=>{var n;return{id:h(),...((n=R[e])==null?void 0:n.options())||{}}}),y=t=>{var e;(e=o[a.value])!=null&&e.pageData&&(o[a.value].pageData[r.value].content=t)},o=W({1:{id:1,type:1,name:"首页装修",pageMeta:p(["page-meta"]),pageData:p(["search","banner","nav","news"])},2:{id:2,type:2,name:"个人中心",pageMeta:p(["page-meta"]),pageData:p(["user-info","my-service","user-banner"])},3:{id:3,type:3,name:"客服设置",pageMeta:null,pageData:p(["customer-service"])}}),a=v("1"),r=v(-1),d=l(()=>{var t;return((t=o[a.value])==null?void 0:t.pageData)??[]}),M=l(()=>{var t;return((t=o[a.value])==null?void 0:t.pageMeta)??null}),S=l(()=>{var t,e;return r.value===-1?((t=o[a.value])==null?void 0:t.pageMeta[0])??"":((e=o[a.value])==null?void 0:e.pageData[r.value])??""}),g=async()=>{const t=await E({type:a.value});o[String(t.type)].pageData=JSON.parse(t.data),o[String(t.type)].id=JSON.parse(t.id),o[String(t.type)].pageMeta=t!=null&&t.meta?JSON.parse(t==null?void 0:t.meta):null},V=async()=>{const t=o[a.value];await I({...t,data:JSON.stringify(t.pageData),meta:t!=null&&t.pageMeta?JSON.stringify(t==null?void 0:t.pageMeta):null}),g()};return j(a,()=>{r.value=d.value.findIndex(t=>!t.disabled),g()},{immediate:!0}),(t,e)=>{const f=O,n=C,b=P,N=q("perms");return _(),H("div",A,[L("div",F,[m(f,{shadow:"never",class:"!border-none flex scroll-view-content","body-style":{"padding-right":0}},{default:c(()=>[m(U,{modelValue:i(a),"onUpdate:modelValue":e[0]||(e[0]=s=>D(a)?a.value=s:null),menus:i(o)},null,8,["modelValue","menus"])]),_:1}),m(k,{class:"flex-1 scroll-view-content",modelValue:i(r),"onUpdate:modelValue":e[1]||(e[1]=s=>D(r)?r.value=s:null),onUpdatePageData:x,pageData:i(d),pageMeta:i(M)},null,8,["modelValue","pageData","pageMeta"]),m(J,{class:"w-[560px] scroll-view-content",widget:i(S),"onUpdate:content":y},null,8,["widget"])]),Z((_(),$(b,{class:"mt-4",fixed:!1},{default:c(()=>[m(n,{type:"primary",onClick:V},{default:c(()=>e[2]||(e[2]=[z("保存")])),_:1})]),_:1})),[[N,["decorate:pages:save"]]])])}}}),De=B(K,[["__scopeId","data-v-6a97e255"]]);export{De as default};
