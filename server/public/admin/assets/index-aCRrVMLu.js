import{N as A,I as H,B as K,C as O,h as Z,D as z,K as G,L as J,M as Q}from"./element-plus-BOMqSMu4.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-uC_cZYzY.js";import{f as Y,b as ee}from"./index-D26yx8rh.js";import{e as te,f as oe}from"./tenant_exam_chapter-BMC_APIL.js";import{a as ae}from"./useDictOptions-Dk9jd2iD.js";import{u as ne}from"./usePaging-CAPwGkdi.js";import{_ as le}from"./edit.vue_vue_type_script_setup_true_name_tenantExamChapterEdit_lang-wvuiPKy2.js";import{u as se}from"./vue-router-kfoHscKg.js";import{d as D,s as ie,r as E,Z as re,aq as me,o as s,c as pe,V as t,M as o,O as u,u as a,L as r,S as m,a as b,i as de,R as ue,n as V}from"./@vue-DWQ9eUI2.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./index-Bn47pySz.js";const ce={class:"mt-4"},_e={class:"flex mt-4 justify-end"},fe=D({name:"tenantExamChapterLists"}),tt=D({...fe,setup(ve){const c=ie(),_=E(!1),$=se(),f=re({title:"",is_show:"",tenant_exam_library_uid:$.query.library_uid}),x=E([]),B=l=>{x.value=l.map(({id:e})=>e)},{dictData:w}=ae("show_status"),{pager:p,getLists:v,resetParams:L,resetPage:P}=ne({fetchFun:te,params:f}),R=async()=>{var l;_.value=!0,await V(),(l=c.value)==null||l.open("add")},T=async l=>{var e,C;_.value=!0,await V(),(e=c.value)==null||e.open("edit"),(C=c.value)==null||C.setFormData(l)},g=async l=>{await Y.confirm("确定要删除？"),await oe({id:l}),v()};return v(),(l,e)=>{const C=A,k=H,N=K,y=O,i=Z,S=z,F=ee,d=G,q=X,I=J,M=W,h=me("perms"),U=Q;return s(),pe("div",null,[t(k,{class:"!border-none",shadow:"never"},{default:o(()=>[t(C,{content:"章节管理",onBack:e[0]||(e[0]=n=>l.$router.back())})]),_:1}),u((s(),r(k,{class:"!border-none",shadow:"never"},{default:o(()=>[t(S,{class:"mb-[-16px] margin-bottom20",model:a(f),inline:""},{default:o(()=>[t(y,{label:"章节名称",prop:"title"},{default:o(()=>[t(N,{class:"w-[280px]",modelValue:a(f).title,"onUpdate:modelValue":e[1]||(e[1]=n=>a(f).title=n),clearable:"",placeholder:"请输入章节名称"},null,8,["modelValue"])]),_:1}),t(y,null,{default:o(()=>[t(i,{type:"primary",onClick:a(P)},{default:o(()=>e[5]||(e[5]=[m("查询")])),_:1},8,["onClick"]),t(i,{onClick:a(L)},{default:o(()=>e[6]||(e[6]=[m("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),b("div",null,[u((s(),r(i,{type:"primary",onClick:R},{icon:o(()=>[t(F,{name:"el-icon-Plus"})]),default:o(()=>[e[7]||(e[7]=m(" 新增 "))]),_:1})),[[h,["exam.tenant_exam_chapter/add"]]]),u((s(),r(i,{disabled:!a(x).length,onClick:e[2]||(e[2]=n=>g(a(x)))},{default:o(()=>e[8]||(e[8]=[m(" 删除 ")])),_:1},8,["disabled"])),[[h,["exam.tenant_exam_chapter/delete"]]])]),b("div",ce,[t(I,{data:a(p).lists,style:{width:"100%","margin-bottom":"20px"},"row-key":"id",onSelectionChange:B,"default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"},"cell-style":{"text-align":"center"},"header-cell-style":{"text-align":"center"}},{default:o(()=>[t(d,{type:"selection",width:"55"}),t(d,{label:"章节名称",prop:"title","show-overflow-tooltip":""}),t(d,{label:"显示状态",prop:"is_show"},{default:o(({row:n})=>[t(q,{options:a(w).show_status,value:n.is_show},null,8,["options","value"])]),_:1}),t(d,{label:"显示权重",prop:"sort","show-overflow-tooltip":""}),t(d,{label:"操作",width:"120",fixed:"right"},{default:o(({row:n})=>[u((s(),r(i,{type:"primary",link:"",onClick:j=>T(n)},{default:o(()=>e[9]||(e[9]=[m(" 编辑 ")])),_:2},1032,["onClick"])),[[h,["exam.tenant_exam_chapter/edit"]]]),u((s(),r(i,{type:"danger",link:"",onClick:j=>g(n.id)},{default:o(()=>e[10]||(e[10]=[m(" 删除 ")])),_:2},1032,["onClick"])),[[h,["exam.tenant_exam_chapter/delete"]]])]),_:1})]),_:1},8,["data"])]),b("div",_e,[t(M,{modelValue:a(p),"onUpdate:modelValue":e[3]||(e[3]=n=>de(p)?p.value=n:null),onChange:a(v)},null,8,["modelValue","onChange"])])]),_:1})),[[U,a(p).loading]]),a(_)?(s(),r(le,{key:0,ref_key:"editRef",ref:c,"dict-data":a(w),onSuccess:a(v),onClose:e[4]||(e[4]=n=>_.value=!1)},null,8,["dict-data","onSuccess"])):ue("",!0)])}}});export{tt as default};
