import{B as G,C as H,O as J,P as Q,h as W,D as X,I as Y,K as ee,v as le,L as te,M as ae}from"./element-plus-BOMqSMu4.js";import{_ as oe}from"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-uC_cZYzY.js";import{f as ie,b as se}from"./index-D26yx8rh.js";import{_ as pe,a as re,b as me}from"./edit.vue_vue_type_script_setup_true_name_tenantBannerEdit_lang-Db993fCD.js";import{a as ue}from"./useDictOptions-Dk9jd2iD.js";import{u as de}from"./usePaging-CAPwGkdi.js";import"./lodash-BtPWuHkK.js";import{d as F,s as _e,r as U,Z as ce,aq as fe,o as n,c as b,V as l,M as o,u as a,U as E,aa as D,L as s,S as f,O as g,a as P,R as S,i as ve,n as T}from"./@vue-DWQ9eUI2.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-kfoHscKg.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./picker-O3j_gyx7.js";import"./index-Bn47pySz.js";import"./index-B5Tv3py5.js";import"./index-CUctT6tT.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";const be={class:"mt-4"},ge={class:"flex mt-4 justify-end"},we=F({name:"tenantBannerLists"}),_l=F({...we,setup(ye){const w=_e(),y=U(!1),i=ce({title:"",is_show:"",sort:"",position:"",client:"",image:"",image_type:""}),B=U([]),R=m=>{B.value=m.map(({id:t})=>t)},{dictData:r}=ue("show_status,image_position,client,image_type"),{pager:v,getLists:k,resetParams:I,resetPage:N}=de({fetchFun:re,params:i}),O=async()=>{var m;y.value=!0,await T(),(m=w.value)==null||m.open("add")},q=async m=>{var t,V;y.value=!0,await T(),(t=w.value)==null||t.open("edit"),(V=w.value)==null||V.setFormData(m)},$=async m=>{await ie.confirm("确定要删除？"),await me({id:m}),k()};return k(),(m,t)=>{const V=G,_=H,d=J,C=Q,c=W,M=X,L=Y,j=se,p=ee,h=ne,A=le,K=te,Z=oe,x=fe("perms"),z=ae;return n(),b("div",null,[l(L,{class:"!border-none mb-4",shadow:"never"},{default:o(()=>[l(M,{class:"mb-[-16px]",model:a(i),inline:""},{default:o(()=>[l(_,{label:"图片标题",prop:"title"},{default:o(()=>[l(V,{class:"w-[140px]",modelValue:a(i).title,"onUpdate:modelValue":t[0]||(t[0]=e=>a(i).title=e),clearable:"",placeholder:"请输入图片标题"},null,8,["modelValue"])]),_:1}),l(_,{label:"显示状态",prop:"is_show"},{default:o(()=>[l(C,{class:"w-[280px]",modelValue:a(i).is_show,"onUpdate:modelValue":t[1]||(t[1]=e=>a(i).is_show=e),clearable:"",placeholder:"请选择显示状态",style:{width:"100px"}},{default:o(()=>[l(d,{label:"全部",value:""}),(n(!0),b(E,null,D(a(r).show_status,(e,u)=>(n(),s(d,{key:u,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"显示位置",prop:"position"},{default:o(()=>[l(C,{class:"w-[280px]",modelValue:a(i).position,"onUpdate:modelValue":t[2]||(t[2]=e=>a(i).position=e),clearable:"",placeholder:"请选择显示位置",style:{width:"100px"}},{default:o(()=>[l(d,{label:"全部",value:""}),(n(!0),b(E,null,D(a(r).image_position,(e,u)=>(n(),s(d,{key:u,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"图片类型",prop:"image_type"},{default:o(()=>[l(C,{class:"w-[280px]",modelValue:a(i).image_type,"onUpdate:modelValue":t[3]||(t[3]=e=>a(i).image_type=e),clearable:"",placeholder:"请选择显示位置",style:{width:"100px"}},{default:o(()=>[l(d,{label:"全部",value:""}),(n(!0),b(E,null,D(a(r).image_type,(e,u)=>(n(),s(d,{key:u,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"显示平台",prop:"client"},{default:o(()=>[l(C,{class:"w-[280px]",modelValue:a(i).client,"onUpdate:modelValue":t[4]||(t[4]=e=>a(i).client=e),clearable:"",placeholder:"请选择显示平台",style:{width:"100px"}},{default:o(()=>[l(d,{label:"全部",value:""}),(n(!0),b(E,null,D(a(r).client,(e,u)=>(n(),s(d,{key:u,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(_,null,{default:o(()=>[l(c,{type:"primary",onClick:a(N)},{default:o(()=>t[8]||(t[8]=[f("查询")])),_:1},8,["onClick"]),l(c,{onClick:a(I)},{default:o(()=>t[9]||(t[9]=[f("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),g((n(),s(L,{class:"!border-none",shadow:"never"},{default:o(()=>[g((n(),s(c,{type:"primary",onClick:O},{icon:o(()=>[l(j,{name:"el-icon-Plus"})]),default:o(()=>[t[10]||(t[10]=f(" 新增 "))]),_:1})),[[x,["config.tenant_banner/add"]]]),g((n(),s(c,{disabled:!a(B).length,onClick:t[5]||(t[5]=e=>$(a(B)))},{default:o(()=>t[11]||(t[11]=[f(" 删除 ")])),_:1},8,["disabled"])),[[x,["config.tenant_banner/delete"]]]),P("div",be,[l(K,{data:a(v).lists,onSelectionChange:R},{default:o(()=>[l(p,{type:"selection",width:"55"}),l(p,{label:"图片类型",prop:"image_type"},{default:o(({row:e})=>[l(h,{options:a(r).image_type,value:e.image_type},null,8,["options","value"])]),_:1}),l(p,{label:"显示位置",prop:"position"},{default:o(({row:e})=>[l(h,{options:a(r).image_position,value:e.position},null,8,["options","value"])]),_:1}),l(p,{label:"显示平台",prop:"client"},{default:o(({row:e})=>[l(h,{options:a(r).client,value:e.client},null,8,["options","value"])]),_:1}),l(p,{label:"图片标题",prop:"title","show-overflow-tooltip":""}),l(p,{label:"封面图片",prop:"image"},{default:o(({row:e})=>[e.image!==""?(n(),s(A,{key:0,style:{width:"50px",height:"50px"},src:e.image,"preview-src-list":[e.image],"preview-teleported":!0},null,8,["src","preview-src-list"])):S("",!0)]),_:1}),l(p,{label:"显示状态",prop:"is_show"},{default:o(({row:e})=>[l(h,{options:a(r).show_status,value:e.is_show},null,8,["options","value"])]),_:1}),l(p,{label:"显示权重",prop:"sort","show-overflow-tooltip":""}),l(p,{label:"图片图标",prop:"icon","show-overflow-tooltip":""}),l(p,{label:"操作",width:"120",fixed:"right"},{default:o(({row:e})=>[g((n(),s(c,{type:"primary",link:"",onClick:u=>q(e)},{default:o(()=>t[12]||(t[12]=[f(" 编辑 ")])),_:2},1032,["onClick"])),[[x,["config.tenant_banner/edit"]]]),g((n(),s(c,{type:"danger",link:"",onClick:u=>$(e.id)},{default:o(()=>t[13]||(t[13]=[f(" 删除 ")])),_:2},1032,["onClick"])),[[x,["config.tenant_banner/delete"]]])]),_:1})]),_:1},8,["data"])]),P("div",ge,[l(Z,{modelValue:a(v),"onUpdate:modelValue":t[6]||(t[6]=e=>ve(v)?v.value=e:null),onChange:a(k)},null,8,["modelValue","onChange"])])]),_:1})),[[z,a(v).loading]]),a(y)?(n(),s(pe,{key:0,ref_key:"editRef",ref:w,"dict-data":a(r),onSuccess:a(k),onClose:t[7]||(t[7]=e=>y.value=!1)},null,8,["dict-data","onSuccess"])):S("",!0)])}}});export{_l as default};
