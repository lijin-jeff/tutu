import{C as F,g as z,G as A,H as G,h as T,a5 as I,F as K,D as L}from"./element-plus-BOMqSMu4.js";import{_ as M}from"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import{_ as P}from"./index.vue_vue_type_style_index_0_lang-BHe48Qr2.js";import{d as Q,Z as R,o as m,c as f,V as e,M as i,u as l,a as s,U as y,aa as b,L as S,S as u,T as H,O as Z,aj as q}from"./@vue-DWQ9eUI2.js";import{a as J}from"./useDictOptions-Dk9jd2iD.js";import{E as k}from"./index-CJYi2pTy.js";import{d as W}from"./index-D26yx8rh.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@wangeditor-CpBL_vJJ.js";import"./picker-O3j_gyx7.js";import"./index-Bn47pySz.js";import"./index-B5Tv3py5.js";import"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import"./index-CUctT6tT.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./@vueuse-BGJqEudt.js";import"./usePaging-CAPwGkdi.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-kfoHscKg.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";const X={style:{width:"100%"}},Y={style:{width:"100%"}},tt={class:"",style:{width:"100%"}},ot={class:"padding-right20 display-flex-start-center"},et={class:"display-flex-start-center"},lt={class:"margin-top10"},it={class:"margin-left50"},st={class:"",style:{width:"100%"}},nt={class:"padding-right20 display-flex-start-center"},at={class:"padding-right"},rt={class:"display-flex-start-center"},pt={class:"margin-top10"},dt=["onUpdate:modelValue"],mt={class:"display-flex"},ut=Q({__name:"ClozeOption",setup(ct){const o=R({uid:"",chapterUid:"",libraryUid:"",title:"",score:1,analysis:"",is_show:1,sort:0,selectAnswer:"",answer:[],option:[{check:"",title:"请输入子试题题干",children:[{check:k.A,title:""}]}]}),{dictData:w}=J("show_status"),C=()=>{o.option.push({check:"",title:"请输入子试题题干",children:[{check:k.A,title:"请输入试题选项"}]})},U=r=>{o.option.splice(r,1)},x=r=>{const t=Object.keys(k).filter(a=>isNaN(Number(a))),p=o.option[r].children.length;o.option[r].children.length<4&&t[p]!==void 0&&(console.log(t[p]),o.option[r].children.push({check:t[p],title:"请输入选项值"}))},E=(r,t)=>{o.option[r].children.splice(t,1),N()},N=()=>{const r=Object.keys(k).filter(t=>isNaN(Number(t)));for(let t=0;t<o.option.length;t++){const p=[];for(let a=0;a<o.option[t].children.length;a++)p.push({title:o.option[t].children[a].title,check:r[a]});o.option[t].children=p}};return(r,t)=>{const p=P,a=F,V=z,D=A,O=G,B=M,c=T,g=I,$=K,j=L;return m(),f("div",null,[e(j,{"label-width":"70px"},{default:i(()=>[e(a,{label:"试题材料",prop:"title"},{default:i(()=>[e(p,{modelValue:l(o).title,"onUpdate:modelValue":t[0]||(t[0]=n=>l(o).title=n),height:150,width:"100%"},null,8,["modelValue"])]),_:1}),e(a,{label:"显示权重",prop:"sort"},{default:i(()=>[s("div",X,[e(V,{min:0,step:1,modelValue:l(o).sort,"onUpdate:modelValue":t[1]||(t[1]=n=>l(o).sort=n),style:{width:"100%"},clearable:"",placeholder:"请输入"},null,8,["modelValue"]),t[7]||(t[7]=s("div",{class:"form-tips"},"默认为0， 只能为大于0的整数。值越大越排前显示。",-1))])]),_:1}),e(a,{label:"试题积分",prop:"score"},{default:i(()=>[s("div",Y,[e(V,{min:1,step:.01,style:{width:"100%"},modelValue:l(o).score,"onUpdate:modelValue":t[2]||(t[2]=n=>l(o).score=n),clearable:"",placeholder:"请输入"},null,8,["modelValue"]),t[8]||(t[8]=s("div",{class:"form-tips"},"默认为0， 只能为大于0的整数。值越大越排前显示。",-1))])]),_:1}),e(a,{label:"启用状态",prop:"is_show"},{default:i(()=>[e(O,{modelValue:l(o).is_show,"onUpdate:modelValue":t[3]||(t[3]=n=>l(o).is_show=n),placeholder:"请选择"},{default:i(()=>[(m(!0),f(y,null,b(l(w).show_status,(n,d)=>(m(),S(D,{key:d,value:parseInt(n.value),label:parseInt(n.value)},{default:i(()=>[u(H(n.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(a,{label:"试题解析",prop:"analysis"},{default:i(()=>[e(B,{modelValue:l(o).analysis,"onUpdate:modelValue":t[4]||(t[4]=n=>l(o).analysis=n),height:150,width:"100%"},null,8,["modelValue"])]),_:1}),e(a,{label:"子项试题"},{default:i(()=>[(m(!0),f(y,null,b(l(o).option,(n,d)=>(m(),f("div",{key:n.check,class:"with100 margin-bottom20"},[s("div",null,[e(g,{modelValue:l(o).answer,"onUpdate:modelValue":t[5]||(t[5]=_=>l(o).answer=_)},{default:i(()=>[s("div",tt,[s("div",ot,[s("div",et,[e(c,{type:"success",icon:"Plus",link:"",onClick:C},{default:i(()=>t[9]||(t[9]=[u("添加子试题 ")])),_:1}),e(c,{type:"danger",icon:"Delete",link:"",onClick:_=>U(d)},{default:i(()=>t[10]||(t[10]=[u("删除试题 ")])),_:2},1032,["onClick"])])])])]),_:2},1032,["modelValue"])]),s("div",lt,[s("div",it,[(m(!0),f(y,null,b(n.children,(_,v)=>(m(),f("div",{key:_.check,class:"with100"},[e(g,{modelValue:l(o).answer,"onUpdate:modelValue":t[6]||(t[6]=h=>l(o).answer=h)},{default:i(()=>[s("div",st,[s("div",nt,[s("div",at,[e($,{value:_.check,label:"选项"+_.check,size:"large",name:"option_check"},null,8,["value","label"])]),s("div",rt,[e(c,{type:"success",icon:"Plus",link:"",onClick:h=>x(d)},{default:i(()=>t[11]||(t[11]=[u("添加选项 ")])),_:2},1032,["onClick"]),e(c,{type:"danger",icon:"Delete",link:"",onClick:h=>E(d,v)},{default:i(()=>t[12]||(t[12]=[u("删除选项 ")])),_:2},1032,["onClick"])])])])]),_:2},1032,["modelValue"]),s("div",pt,[Z(s("input",{"onUpdate:modelValue":h=>l(o).option[d].children[v].title=h,clearable:"",class:"custom-input"},null,8,dt),[[q,l(o).option[d].children[v].title]])])]))),128))])])]))),128))]),_:1}),s("div",mt,[e(c,{type:"primary"},{default:i(()=>t[13]||(t[13]=[u("保存试题")])),_:1}),e(c,{type:"warning"},{default:i(()=>t[14]||(t[14]=[u("重置数据")])),_:1})])]),_:1})])}}}),ro=W(ut,[["__scopeId","data-v-731c766b"]]);export{ro as default};
