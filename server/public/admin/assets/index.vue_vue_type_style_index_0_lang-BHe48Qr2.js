import{T as y,E as w}from"./@wangeditor-CpBL_vJJ.js";import{_}from"./picker-O3j_gyx7.js";import{j as i}from"./index-D26yx8rh.js";import{d as k,s as m,r as B,b as f,E,o as U,c as R,V as u,u as l,i as P,a0 as x}from"./@vue-DWQ9eUI2.js";const A=k({__name:"index",props:{modelValue:{default:""},mode:{default:"default"},height:{default:"100%"},width:{default:"auto"},toolbarConfig:{default:()=>({toolbarKeys:["clearStyle","insertImage","codeBlock","uploadVideo","uploadImage","fullScreen"]})}},emits:["update:modelValue"],setup(p,{emit:c}){const a=p,g=c,t=m(),d=m(),r=B("");let n;const h={MENU_CONF:{uploadImage:{customBrowseAndUpload(e){var o;r.value="image",(o=d.value)==null||o.showPopup(-1),n=e}},uploadVideo:{customBrowseAndUpload(e){var o;r.value="video",(o=d.value)==null||o.showPopup(-1),n=e}}}},b=f(()=>({height:i(a.height),width:i(a.width)})),s=f({get(){return a.modelValue},set(e){g("update:modelValue",e)}}),C=e=>{e.forEach(o=>{n(o)})};E(()=>{const e=t.value;e!=null&&e.destroy()});const v=e=>{t.value=e};return(e,o)=>(U(),R("div",{class:"border border-br flex flex-col",style:x(l(b))},[u(l(y),{class:"border-b border-br",editor:l(t),defaultConfig:e.toolbarConfig,mode:e.mode},null,8,["editor","defaultConfig","mode"]),u(l(w),{class:"flex-1 overflow-hidden",modelValue:l(s),"onUpdate:modelValue":o[0]||(o[0]=V=>P(s)?s.value=V:null),defaultConfig:h,mode:e.mode,onOnCreated:v},null,8,["modelValue","mode"]),u(_,{ref_key:"materialPickerRef",ref:d,type:l(r),limit:-1,"hidden-upload":"",onChange:C},null,8,["type"])],4))}});export{A as _};
