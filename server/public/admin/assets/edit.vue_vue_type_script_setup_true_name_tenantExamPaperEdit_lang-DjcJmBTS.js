import{B as j,C as A,G as H,H as M,g as O,D as Z}from"./element-plus-BOMqSMu4.js";import{_ as $}from"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import{_ as z}from"./picker-O3j_gyx7.js";import{P as J}from"./index-Bn47pySz.js";import{b as K,c as Q,d as W}from"./tenant_exam_paper-BDkOQMp_.js";import{d as R,s as k,r as X,b as Y,Z as E,o as u,c as _,V as o,M as r,u as l,U as v,aa as x,L as y,S as h,T as D}from"./@vue-DWQ9eUI2.js";const ee={class:"edit-popup"},ae=R({name:"tenantExamPaperEdit"}),ue=R({...ae,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(c,{expose:U,emit:q}){const f=q,g=k(),i=k(),m=X("add"),C=Y(()=>m.value=="edit"?"编辑试卷管理":"新增试卷管理"),t=E({id:"",title:"",is_show:"",sort:"",is_rand:"",image:"",remark:""}),P=E({title:[{required:!0,message:"请输入试卷名称",trigger:["blur"]}],is_show:[{required:!0,message:"请选择启用状态",trigger:["blur"]}],sort:[{required:!0,message:"请输入显示权重",trigger:["blur"]}],is_rand:[{required:!0,message:"请选择随机状态",trigger:["blur"]}],image:[{required:!0,message:"请选择试卷封面",trigger:["blur"]}],remark:[{required:!0,message:"请输入试卷描述",trigger:["blur"]}]}),b=async s=>{for(const e in t)s[e]!=null&&s[e]!=null&&(t[e]=s[e])},T=async s=>{const e=await K({id:s.id});b(e)},I=async()=>{var e,d;await((e=g.value)==null?void 0:e.validate());const s={...t};m.value=="edit"?await Q(s):await W(s),(d=i.value)==null||d.close(),f("success")},B=(s="add")=>{var e;m.value=s,(e=i.value)==null||e.open()},F=()=>{f("close")};return U({open:B,setFormData:b,getDetail:T}),(s,e)=>{const d=j,n=A,V=H,w=M,N=O,S=z,G=$,L=Z;return u(),_("div",ee,[o(J,{ref_key:"popupRef",ref:i,title:l(C),async:!0,width:"700px",onConfirm:I,onClose:F},{default:r(()=>[o(L,{ref_key:"formRef",ref:g,model:l(t),"label-width":"90px",rules:l(P)},{default:r(()=>[o(n,{label:"试卷名称",prop:"title"},{default:r(()=>[o(d,{modelValue:l(t).title,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).title=a),clearable:"",placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),o(n,{label:"启用状态",prop:"is_show"},{default:r(()=>[o(w,{modelValue:l(t).is_show,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).is_show=a),placeholder:"请选择启用状态"},{default:r(()=>[(u(!0),_(v,null,x(c.dictData.show_status,(a,p)=>(u(),y(V,{key:p,label:parseInt(a.value)},{default:r(()=>[h(D(a.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"显示权重",prop:"sort"},{default:r(()=>[o(N,{style:{width:"100%"},modelValue:l(t).sort,"onUpdate:modelValue":e[2]||(e[2]=a=>l(t).sort=a),clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1}),o(n,{label:"随机状态",prop:"is_rand"},{default:r(()=>[o(w,{modelValue:l(t).is_rand,"onUpdate:modelValue":e[3]||(e[3]=a=>l(t).is_rand=a),placeholder:"请选择随机状态"},{default:r(()=>[(u(!0),_(v,null,x(c.dictData.paper_rand,(a,p)=>(u(),y(V,{key:p,label:parseInt(a.value)},{default:r(()=>[h(D(a.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"试卷封面",prop:"image"},{default:r(()=>[o(S,{modelValue:l(t).image,"onUpdate:modelValue":e[4]||(e[4]=a=>l(t).image=a)},null,8,["modelValue"])]),_:1}),o(n,{label:"试卷描述",prop:"remark"},{default:r(()=>[o(G,{class:"flex-1",modelValue:l(t).remark,"onUpdate:modelValue":e[5]||(e[5]=a=>l(t).remark=a),height:500},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{ue as _};
