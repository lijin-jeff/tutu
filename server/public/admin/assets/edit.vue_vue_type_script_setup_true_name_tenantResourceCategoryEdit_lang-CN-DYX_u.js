import{O as j,P as G,C as A,B as H,G as M,H as Z,g as z,D as J}from"./element-plus-BOMqSMu4.js";import{_ as K}from"./picker-O3j_gyx7.js";import{P as Q}from"./index-Bn47pySz.js";import{b as W,c as X,d as Y,e as $}from"./tenant_resource_category-3vHCcF4y.js";import{d as R,s as y,r as ee,Z as m,b as te,o as u,c,V as s,M as n,u as o,U as V,aa as w,L as v,S as ae,T as oe}from"./@vue-DWQ9eUI2.js";const le={class:"edit-popup"},se=R({name:"tenantResourceCategoryEdit"}),me=R({...se,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(h,{expose:C,emit:E}){const _=E,f=y(),p=y(),d=ee("add"),g=m([]),k=te(()=>d.value=="edit"?"编辑资源分类":"新增资源分类"),a=m({id:"",title:"",is_show:"",sort:"",parent_uid:"",image:""}),D=m({title:[{required:!0,message:"请输入分类名称",trigger:["blur"]}],is_show:[{required:!0,message:"请选择显示状态",trigger:["blur"]}],sort:[{required:!0,message:"请输入显示权重",trigger:["blur"]}]}),b=async l=>{for(const e in a)l[e]!=null&&l[e]!=null&&(a[e]=l[e])},x=async l=>{const e=await W({id:l.id});b(e)},T=async()=>{var e,i;await((e=f.value)==null?void 0:e.validate());const l={...a};d.value=="edit"?await X(l):await Y(l),(i=p.value)==null||i.close(),_("success")},P=(l="add")=>{var e;d.value=l,(e=p.value)==null||e.open()},U=()=>{_("close")};return(async()=>{await $().then(l=>{Object.assign(g,l)})})(),C({open:P,setFormData:b,getDetail:x}),(l,e)=>{const i=j,L=G,r=A,B=H,F=M,I=Z,O=z,S=K,q=J;return u(),c("div",le,[s(Q,{ref_key:"popupRef",ref:p,title:o(k),async:!0,width:"550px",onConfirm:T,onClose:U},{default:n(()=>[s(q,{ref_key:"formRef",ref:f,model:o(a),"label-width":"90px",rules:o(D)},{default:n(()=>[s(r,{label:"上级分类",prop:"parent_uid"},{default:n(()=>[s(L,{modelValue:o(a).parent_uid,"onUpdate:modelValue":e[0]||(e[0]=t=>o(a).parent_uid=t),clearable:"",placeholder:"请选择上级分类"},{default:n(()=>[(u(!0),c(V,null,w(o(g),t=>(u(),v(i,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(r,{label:"分类名称",prop:"title"},{default:n(()=>[s(B,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=t=>o(a).title=t),clearable:"",placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),s(r,{label:"显示状态",prop:"is_show"},{default:n(()=>[s(I,{modelValue:o(a).is_show,"onUpdate:modelValue":e[2]||(e[2]=t=>o(a).is_show=t),placeholder:"请选择显示状态"},{default:n(()=>[(u(!0),c(V,null,w(h.dictData.show_status,(t,N)=>(u(),v(F,{key:N,label:parseInt(t.value)},{default:n(()=>[ae(oe(t.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(r,{label:"显示权重",prop:"sort"},{default:n(()=>[s(O,{style:{width:"100%"},modelValue:o(a).sort,"onUpdate:modelValue":e[3]||(e[3]=t=>o(a).sort=t),step:1,min:0,clearable:"",placeholder:"请输入显示权重"},null,8,["modelValue"])]),_:1}),s(r,{label:"分类封面",prop:"image"},{default:n(()=>[s(S,{modelValue:o(a).image,"onUpdate:modelValue":e[4]||(e[4]=t=>o(a).image=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{me as _};
