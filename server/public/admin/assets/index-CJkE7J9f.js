import{B as H,C as J,O as Q,P as W,h as X,D as Y,I as ee,K as te,v as oe,L as ae,M as le}from"./element-plus-BOMqSMu4.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-Dl0F3zG-.js";import{_ as se}from"./index.vue_vue_type_script_setup_true_lang-uC_cZYzY.js";import{f as re,b as ie}from"./index-D26yx8rh.js";import{u as pe}from"./usePaging-CAPwGkdi.js";import{a as me}from"./useDictOptions-Dk9jd2iD.js";import{a as de,e as ue}from"./tenant_exam_paper-BDkOQMp_.js";import{_ as _e}from"./edit.vue_vue_type_script_setup_true_name_tenantExamPaperEdit_lang-DjcJmBTS.js";import{a as ce}from"./vue-router-kfoHscKg.js";import{d as T,s as fe,r as $,Z as ve,aq as we,o as s,c as C,V as e,M as a,u as l,U as L,aa as B,L as i,S as d,O as _,a as R,i as be,R as xe,n as S}from"./@vue-DWQ9eUI2.js";import"./lodash-es-ConpBW6D.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-t6vcCXyq.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-xIQONLba.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-BGJqEudt.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-BEPSbOJo.js";import"./@highlightjs-DFNU4Zg1.js";import"./index.vue_vue_type_style_index_0_lang-Bn866MxG.js";import"./@wangeditor-CpBL_vJJ.js";import"./picker-O3j_gyx7.js";import"./index-Bn47pySz.js";import"./index-B5Tv3py5.js";import"./index-CUctT6tT.js";import"./index-VlRnd21E.js";import"./index.vue_vue_type_script_setup_true_lang-B5Pc4JQX.js";import"./vue3-video-play-BBayeKOM.js";import"./vuedraggable-BDQ0t2m8.js";import"./vue-CvVLHxBQ.js";import"./sortablejs-DdgKbxid.js";const he={class:"mt-4"},ke={class:"flex mt-4 justify-end"},ge=T({name:"tenantExamPaperLists"}),xt=T({...ge,setup(ye){const w=fe(),b=$(!1),F=ce(),p=ve({title:"",is_show:"",is_rand:"",image:""}),y=$([]),I=r=>{y.value=r.map(({id:t})=>t)},{dictData:c}=me("show_status,paper_rand"),{pager:f,getLists:x,resetParams:U,resetPage:N}=pe({fetchFun:de,params:p}),q=r=>{F.push({path:"tenant_exam_paper/paper",query:{id:r.id}})},O=async()=>{var r;b.value=!0,await S(),(r=w.value)==null||r.open("add")},M=async r=>{var t,h;b.value=!0,await S(),(t=w.value)==null||t.open("edit"),(h=w.value)==null||h.setFormData(r)},V=async r=>{await re.confirm("确定要删除？"),await ue({id:r}),x()};return x(),(r,t)=>{const h=H,k=J,g=Q,E=W,m=X,j=Y,D=ee,A=ie,n=te,K=oe,P=se,Z=ae,z=ne,v=we("perms"),G=le;return s(),C("div",null,[e(D,{class:"!border-none mb-4",shadow:"never"},{default:a(()=>[e(j,{class:"mb-[-16px]",model:l(p),inline:""},{default:a(()=>[e(k,{label:"试卷名称",prop:"title"},{default:a(()=>[e(h,{class:"w-[280px]",modelValue:l(p).title,"onUpdate:modelValue":t[0]||(t[0]=o=>l(p).title=o),clearable:"",placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),e(k,{label:"启用状态",prop:"is_show"},{default:a(()=>[e(E,{class:"w-[280px]",style:{width:"100px"},modelValue:l(p).is_show,"onUpdate:modelValue":t[1]||(t[1]=o=>l(p).is_show=o),clearable:"",placeholder:"请选择启用状态"},{default:a(()=>[e(g,{label:"全部",value:""}),(s(!0),C(L,null,B(l(c).show_status,(o,u)=>(s(),i(g,{key:u,label:o.name,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(k,{label:"随机状态",prop:"is_rand"},{default:a(()=>[e(E,{class:"w-[280px]",style:{width:"100px"},modelValue:l(p).is_rand,"onUpdate:modelValue":t[2]||(t[2]=o=>l(p).is_rand=o),clearable:"",placeholder:"请选择随机状态"},{default:a(()=>[e(g,{label:"全部",value:""}),(s(!0),C(L,null,B(l(c).paper_rand,(o,u)=>(s(),i(g,{key:u,label:o.name,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:a(()=>[e(m,{type:"primary",onClick:l(N)},{default:a(()=>t[6]||(t[6]=[d("查询")])),_:1},8,["onClick"]),e(m,{onClick:l(U)},{default:a(()=>t[7]||(t[7]=[d("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),_((s(),i(D,{class:"!border-none",shadow:"never"},{default:a(()=>[_((s(),i(m,{type:"primary",onClick:O},{icon:a(()=>[e(A,{name:"el-icon-Plus"})]),default:a(()=>[t[8]||(t[8]=d(" 新增 "))]),_:1})),[[v,["exam.tenant_exam_paper/add"]]]),_((s(),i(m,{disabled:!l(y).length,onClick:t[3]||(t[3]=o=>V(l(y)))},{default:a(()=>t[9]||(t[9]=[d(" 删除 ")])),_:1},8,["disabled"])),[[v,["exam.tenant_exam_paper/delete"]]]),R("div",he,[e(Z,{data:l(f).lists,onSelectionChange:I},{default:a(()=>[e(n,{type:"selection",width:"55"}),e(n,{label:"试卷ID",prop:"id","show-overflow-tooltip":""}),e(n,{label:"试卷编号",prop:"uid","show-overflow-tooltip":""}),e(n,{label:"试卷封面",prop:"image"},{default:a(({row:o})=>[e(K,{style:{width:"50px",height:"50px"},src:o.image},null,8,["src"])]),_:1}),e(n,{label:"试卷名称",prop:"title","show-overflow-tooltip":""}),e(n,{label:"随机状态",prop:"is_rand"},{default:a(({row:o})=>[e(P,{options:l(c).paper_rand,value:o.is_rand},null,8,["options","value"])]),_:1}),e(n,{label:"试题总数",prop:"option_count","show-overflow-tooltip":""}),e(n,{label:"试题总分",prop:"option_score","show-overflow-tooltip":""}),e(n,{label:"启用状态",prop:"is_show"},{default:a(({row:o})=>[e(P,{options:l(c).show_status,value:o.is_show},null,8,["options","value"])]),_:1}),e(n,{label:"显示权重",prop:"sort","show-overflow-tooltip":""}),e(n,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),e(n,{label:"更新时间",prop:"update_time","show-overflow-tooltip":""}),e(n,{label:"操作",width:"200",fixed:"right"},{default:a(({row:o})=>[_((s(),i(m,{type:"primary",link:"",onClick:u=>M(o)},{default:a(()=>t[10]||(t[10]=[d(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["exam.tenant_exam_paper/edit"]]]),_((s(),i(m,{type:"primary",link:"",onClick:u=>q(o)},{default:a(()=>t[11]||(t[11]=[d(" 组卷 ")])),_:2},1032,["onClick"])),[[v,["exam.tenant_exam_paper/paper"]]]),_((s(),i(m,{type:"danger",link:"",onClick:u=>V(o.id)},{default:a(()=>t[12]||(t[12]=[d(" 删除 ")])),_:2},1032,["onClick"])),[[v,["exam.tenant_exam_paper/delete"]]])]),_:1})]),_:1},8,["data"])]),R("div",ke,[e(z,{modelValue:l(f),"onUpdate:modelValue":t[4]||(t[4]=o=>be(f)?f.value=o:null),onChange:l(x)},null,8,["modelValue","onChange"])])]),_:1})),[[G,l(f).loading]]),l(b)?(s(),i(_e,{key:0,ref_key:"editRef",ref:w,"dict-data":l(c),onSuccess:l(x),onClose:t[5]||(t[5]=o=>b.value=!1)},null,8,["dict-data","onSuccess"])):xe("",!0)])}}});export{xt as default};
